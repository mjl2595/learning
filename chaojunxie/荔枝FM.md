# 荔枝FM

## 1、【算法面试】n个数，找出其中最小的k个数，写出代码，要求最坏情况下的时间复杂度不能高于O(nlogk)



- 各种排序算法的实现和复杂度,稳定性二叉树的前中后序遍历
- 翻转句子中单词的顺序
- 用栈模拟队列(或用队列模拟栈)
- 对10亿个数进行排序,限制内存为1G
- 采用分治的思路
- 去掉(或找出)两个数组中重复的数
- 排序和hash两种思路
- 将一颗二叉树转换成其镜像
- 确定一个字符串中的括号是否匹配
- 给定一个开始词,一个结束词,一个字典,如何找到从开始词到结束词的最短单词接龙
- 考虑使用深度优先算法
- 如何查找两个二叉树的最近公共祖先
- 递归与非递归皆可实现

2、一个json字符串  是否正确匹配

3、数据量非常大的情况下   采用什么方式进行幂等校验。
--web请求需要加上
分布式锁
还是拿插入数据的例子，如果是分布是系统，构建全局唯一索引比较困难，例如唯一性的字段没法确定，这时候可以引入分布式锁，通过第三方的系统
(redis或zookeeper)，在业务系统插入数据或者更新数据，获取分布式锁，然后做操作，之后释放锁，这样其实是把多线程并发的锁的思路，引入多多个系统
，也就是分布式系统中得解决思路。
状态机幂等
在设计单据相关的业务，或者是任务相关的业务，肯定会涉及到状态机(状态变更图)，就是业务单据上面有个状态，状态在不同的情况下会发生变更，
一般情况下存在有限状态机，这时候，如果状态机已经处于下一个状态，这时候来了一个上一个状态的变更，理论上是不能够变更的，
这样的话，保证了有限状态机的幂等。

注意：订单等单据类业务，存在很长的状态流转，一定要深刻理解状态机，对业务系统设计能力提高有很大帮助。

对外提供接口的api如何保证幂等
如银联提供的付款接口：需要接入商户提交付款请求时附带：source来源，seq序列号source+seq在数据库里面做唯一索引，防止多次付款，
(并发时，只能处理一个请求)

4、Hystrix的服务熔断和服务降级